<!-- << Copyright 2022 Iñigo Tamayo Uria, Ana Domínguez Fanlo, Mikel Joseba Zorrilla Berasategui, Héctor Rivas Pagador, Sergio Cabrero Barros, Juan Felipe Mogollón Rodríguez and Stefano Masneri. >>
This file is part of Orkestralib.
Orkestralib is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
Orkestralib is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.
You should have received a copy of the GNU Lesser General Public License along with Orkestralib. If not, see <https://www.gnu.org/licenses/>. -->
<link rel="stylesheet" href="/dist/bundle.css"></link>
<button onclick="publishScreen()">Share Screen</button>
<button onclick="publishWebcam()">Share Webcam</button>
<orkestra-ui>
<x-media id="v1" type="webrtc" input="screen" config='{"janusServer":"cloud.flexcontrol.net","muted":"true","showBitrate":"true","iframe":false}'></x-media>
<x-media id="v2" type="webrtc" input="webcam" config='{"janusServer":"cloud.flexcontrol.net","muted":"true","showBitrate":"true","iframe":false}'></x-media>
</orkestra-ui>
<screen-share input="screen" config='{"janusServer":"cloud.flexcontrol.net","room":1234}' options='{"bitrate":1000000,"simulcast":true}'>
</screen-share>
<webrtc-publisher style="width:260px;height:120px" input="webcam" config='{"janusServer":"cloud.flexcontrol.net","room":1234}' options='{"audio":true,"video":true,"echoC":false,"noiseS":false,"simulcast":true}'>
</webrtc-publisher>
<script src="/dist/orkestra.umd.js"> </script>
<script type="module" src="https://kcmr.github.io/code-sample/node_modules/@kuscamara/code-sample/code-sample.js"></script>
<script>
        let options = {
               url:'https://devstage.traction-project.eu/',
               agentid:"xx",
               channel:'te2st',
               privateChannel:false,
               profile:'admin',
               master:true,
               debug:false
            };
var app = new OrkestraAPI.Orkestra(options);
app.ui(OrkestraAPI.Divided);
function publishScreen(){
    document.querySelector('screen-share').publish();

}
function publishWebcam(){
    document.querySelector('webrtc-publisher').publish();
    document.querySelector('webrtc-publisher').setOrkestraInstance(app);

}
</script>
<code-sample style="position:absolute;top:0%;left:75%;z-index:999">
    <template>
        <x-media type="webrtc" input="screen" config='{"janusServer":"cloud.flexcontrol.net","muted":"true","showBitrate":"true","iframe":true}'></x-media>
        <x-media type="webrtc" input="webcam" config='{"janusServer":"cloud.flexcontrol.net","muted":"true","showBitrate":"true","iframe":true}'></x-media>
        <screen-share input="screen" config='{"janusServer":"cloud.flexcontrol.net","room":1234}' options='{"bitrate":1000000,"simulcast":true}'>
        </screen-share>
        <webrtc-publisher style="width:260px;height:120px" input="webcam" config='{"janusServer":"cloud.flexcontrol.net","room":1234}' options='{"audio":true,"video":true,"echoC":false,"noiseS":false,"simulcast":true}'>
        </webrtc-publisher>
    </template>
  </code-sample>